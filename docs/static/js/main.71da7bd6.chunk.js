(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,n,t){e.exports=t(348)},348:function(e,n,t){"use strict";t.r(n);var a=t(3),r=t(13),o=t(14),i=t(16),l=t(15),c=t(17),u=t(7),s=t.n(u),d=s()()("FONTS.SET_FONTS"),m=s()()("LAYER.ADD_IMAGE_LAYER"),p=s()()("LAYER.ADD_TEXT_LAYER"),h=s()()("LAYER.CHANGE_STYLE"),f=s()()("LAYER.CHANGE_VALUE"),g=s()()("LAYER.DOWN_LAYER"),b=s()()("LAYER.REMOVE_LAYER"),v=s()()("LAYER.SELECT_LAYER"),E=s()()("LAYER.UP_LAYER"),y=s()()("PREVIEW.CHANGE_VALUE"),x=t(0),w=t(27),k=t(4);function j(){var e=Object(a.a)(["\n  height: 100%;\n  width: 100%;\n\n  &:disabled {\n    opacity: 0.5;\n  }\n\n  .icon {\n    color: white;\n    height: 100%;\n    width: 100%;\n  }\n"]);return j=function(){return e},e}var O=k.b.button(j()),C=function(e){return x.createElement(O,e,x.createElement(w.b,{className:"icon"}))};function N(){var e=Object(a.a)(["\n  height: 100%;\n  width: 100%;\n\n  &:disabled {\n    opacity: 0.5;\n  }\n\n  .icon {\n    color: white;\n    height: 100%;\n    width: 100%;\n  }\n"]);return N=function(){return e},e}var S=k.b.button(N()),L=function(e){return x.createElement(S,e,x.createElement(w.a,{className:"icon"}))};function F(){var e=Object(a.a)(["\n  height: 100%;\n  width: 100%;\n\n  .icon {\n    color: white;\n    height: 100%;\n    width: 100%;\n  }\n"]);return F=function(){return e},e}var z=k.b.button(F()),A=function(e){return x.createElement(z,e,x.createElement(w.c,{className:"icon"}))};function D(){var e=Object(a.a)(["\n  height: 100%;\n  width: 100%;\n\n  &:disabled {\n    opacity: 0.5;\n  }\n\n  .icon {\n    color: white;\n    height: 100%;\n    width: 100%;\n  }\n"]);return D=function(){return e},e}var R=k.b.button(D()),P=function(e){return x.createElement(R,e,x.createElement(w.d,{className:"icon"}))};function I(){var e=Object(a.a)(["\n  height: 100%;\n  width: 100%;\n\n  .icon {\n    color: white;\n    height: 100%;\n    width: 100%;\n  }\n"]);return I=function(){return e},e}var W=k.b.button(I()),T=function(e){return x.createElement(W,e,x.createElement(w.e,{className:"icon"}))};function Y(){var e=Object(a.a)(["\n  background-color: #fff;\n  border: 1px #ddd solid;\n\n  &[type='checkbox'] {\n    height: 15px;\n    width: 15px;\n\n    &:checked {\n      background-color: #bbb;\n    }\n  }\n\n  &[type='number'] {\n    text-align: right;\n  }\n"]);return Y=function(){return e},e}var B=k.b.input(Y()),H=function(e){return x.createElement(B,e)};function U(){var e=Object(a.a)(["\n  dt:not(:first-child) {\n    margin-top: 10px;\n  }\n\n  dd {\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 5px;\n\n    .input {\n      width: 60px;\n    }\n  }\n"]);return U=function(){return e},e}var M=k.b.ul(U()),_=function(e){var n=e.onChange,t=e.opacity,a=e.rotate,r=e.scale;return x.createElement(M,null,x.createElement("dt",null,"opacity"),x.createElement("dd",null,x.createElement(H,{className:"input",max:1,min:0,name:"opacity",onChange:n,step:.01,type:"number",value:t})),x.createElement("dt",null,"rotate"),x.createElement("dd",null,x.createElement(H,{className:"input",name:"rotate",onChange:n,step:.1,type:"number",value:a}),"deg"),x.createElement("dt",null,"scale"),x.createElement("dd",null,x.createElement(H,{className:"input",min:0,name:"scale",onChange:n,step:.01,type:"number",value:r})))},G=t(57);function V(){var e=Object(a.a)(["\n  align-items: center;\n  display: flex;\n\n  dl {\n    align-items: center;\n    display: flex;\n\n    dt:not(:first-child) {\n      margin-left: 10px;\n    }\n\n    dd {\n      align-items: center;\n      display: flex;\n      margin-left: 5px;\n\n      .input {\n        width: 60px;\n      }\n\n      .background-color {\n        border: 1px #ddd solid;\n        display: flex;\n        height: 15px;\n        justify-content: center;\n        position: relative;\n        width: 15px;\n\n        &:hover .picker {\n          display: block;\n        }\n\n        .picker {\n          background-color: #fff;\n          border: 1px #ddd solid;\n          bottom: 100%;\n          display: none;\n          padding: 10px;\n          position: absolute;\n\n          .chrome-picker {\n            background-color: inherit !important;\n            border: none !important;\n            border-radius: 0 !important;\n            box-shadow: none !important;\n            font-family: inherit !important;\n\n            > div {\n              border-radius: 0 !important;\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return V=function(){return e},e}var J=k.b.div(V()),X=function(e){var n=e.backgroundColor,t=e.gridSize,a=e.height,r=e.onChange,o=e.onChangeBackgroundColor,i=e.overflow,l=e.scale,c=e.width,u=n.a,s=n.b,d=n.g,m=n.r;return x.createElement(J,null,x.createElement("dl",null,x.createElement("dt",null,"width"),x.createElement("dd",null,x.createElement(H,{className:"input",min:0,name:"width",onChange:r,type:"number",value:c}),"px"),x.createElement("dt",null,"height"),x.createElement("dd",null,x.createElement(H,{className:"input",min:0,name:"height",onChange:r,type:"number",value:a}),"px"),x.createElement("dt",null,"scale"),x.createElement("dd",null,x.createElement(H,{className:"input",min:0,name:"scale",onChange:r,step:.1,type:"number",value:l}),"px"),x.createElement("dt",null,"grid-size"),x.createElement("dd",null,x.createElement(H,{className:"input",max:500,min:0,name:"gridSize",onChange:r,type:"number",value:t}),"px"),x.createElement("dt",null,"background-color"),x.createElement("dd",null,x.createElement("div",{className:"background-color",style:{backgroundColor:"rgba(".concat(m,",").concat(d,", ").concat(s,",").concat(u,")")}},x.createElement("div",{className:"picker"},x.createElement(G.ChromePicker,{color:n,onChange:o})))),x.createElement("dt",null,"overflow"),x.createElement("dd",null,x.createElement(H,{defaultChecked:i,name:"overflow",onChange:r,type:"checkbox"}))))};function q(){var e=Object(a.a)(["\n  display: grid;\n  grid-gap: 5px;\n  margin-bottom: 5px;\n  width: 100%;\n\n  li {\n    border: 1px solid #ddd;\n    padding: 2.5px;\n\n    &.select {\n      border: solid #b33e5c 1px;\n    }\n\n    textarea {\n      border: 1px solid #ddd;\n      font-size: 1.2rem;\n      height: 50px;\n      min-height: 50px;\n      overflow-y: scroll;\n      padding: 2.5px;\n      width: 100%;\n    }\n\n    .image {\n      background-position: center;\n      background-size: cover;\n      height: 50px;\n      overflow: hidden;\n      padding: 2.5px;\n      width: 100%;\n    }\n  }\n"]);return q=function(){return e},e}var K=k.b.ul(q()),$=function(e){var n=e.index,t=e.layers,a=e.onChange,r=e.onClick,o=e.onFocus;return x.createElement(K,null,t.map(function(e,t){var i=x.createElement(x.Fragment,null);if("value"in e){var l=e.value;i=x.createElement("textarea",{"data-index":t,onChange:a,onFocus:o,value:l})}else if("url"in e){var c=e.url;i=x.createElement("div",{className:"image","data-index":t,onClick:r,style:{backgroundImage:"url(".concat(c,")")}})}return x.createElement("li",{className:n===t?"select":"",key:t},i)}).reverse())};function Q(){var e=Object(a.a)(["\n  background-color: #bbb;\n  display: grid;\n  grid-auto-rows: 25px;\n  grid-gap: 5px;\n  grid-template-columns: repeat(auto-fill, 25px);\n  padding: 5px;\n  width: 100%;\n\n  li {\n    height: 100%;\n    width: 100%;\n\n    button {\n      height: 100%;\n      width: 100%;\n\n      .icon {\n        color: white;\n        height: 100%;\n        width: 100%;\n      }\n    }\n  }\n"]);return Q=function(){return e},e}var Z=k.b.ul(Q()),ee=function(e){var n=e.children;return x.createElement(Z,null,n.map(function(e,n){return x.createElement("li",{key:n},e)}))},ne=t(18);function te(){var e=Object(a.a)(["\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.75);\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 9999;\n"]);return te=function(){return e},e}var ae=k.b.div(te()),re=function(e){function n(){return Object(r.a)(this,n),Object(i.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(c.a)(n,e),Object(o.a)(n,[{key:"componentDidMount",value:function(){ne("#root > div:not(.portal)").css("filter","blur(2.5px)")}},{key:"componentWillUnmount",value:function(){ne("#root > div:not(.portal)").css("filter","blur(0)")}},{key:"render",value:function(){var e=this.props.src;return x.createElement(ae,{className:"portal"},x.createElement("img",{src:e}))}}]),n}(x.Component),oe=t(128);function ie(){var e=Object(a.a)(["\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.75);\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 9999;\n\n  p {\n    margin-top: 30px;\n  }\n"]);return ie=function(){return e},e}var le=k.b.div(ie()),ce=function(e){function n(){return Object(r.a)(this,n),Object(i.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(c.a)(n,e),Object(o.a)(n,[{key:"componentDidMount",value:function(){ne("#root > div:not(.portal)").css("filter","blur(2.5px)")}},{key:"componentWillUnmount",value:function(){ne("#root > div:not(.portal)").css("filter","blur(0)")}},{key:"render",value:function(){return x.createElement(le,{className:"portal"},x.createElement(oe.DotLoader,{color:"#234794"}),x.createElement("p",null,"Generating... wait a minutes."))}}]),n}(x.Component),ue=t(129),se=t.n(ue),de=t(12);function me(){var e=Object(a.a)(["\n  display: flex;\n  font-size: 1.2rem;\n\n  > li {\n    position: relative;\n\n    &:hover {\n      background-color: #fff;\n\n      > ul {\n        display: block;\n      }\n    }\n\n    > p {\n      align-items: center;\n      display: flex;\n      height: 24px;\n      justify-content: center;\n      width: 50px;\n    }\n\n    > ul {\n      background-color: #fff;\n      border: 1px #ddd solid;\n      display: none;\n      left: -1px;\n      position: absolute;\n      top: 100%;\n\n      > li {\n        > a,\n        > button,\n        > p {\n          align-items: center;\n          display: flex;\n          height: 25px;\n          padding: 0 30px 0 15px;\n          white-space: nowrap;\n        }\n\n        > a {\n          color: inherit;\n          text-decoration: none;\n        }\n      }\n    }\n  }\n"]);return me=function(){return e},e}var pe=k.b.ul(me()),he=function(e){function n(e){var t;return Object(r.a)(this,n),(t=Object(i.a)(this,Object(l.a)(n).call(this,e))).rootEl=void 0,t.rootEl=document.getElementById("root"),t.state={imageUrl:"",isShowLoading:!1},t}return Object(c.a)(n,e),Object(o.a)(n,[{key:"componentDidUpdate",value:function(e){var n=this,t=e.overflow,a=this.props,r=a.changePreviewOverflow,o=a.overflow;if(this.state.isShowLoading){if(o)return void r(!1);se.a.toPng(document.getElementById("capture")).then(function(e){n.setState({imageUrl:e,isShowLoading:!1},function(){t&&r(!0)})})}}},{key:"render",value:function(){var e=this,n=this.state,t=n.imageUrl,a=n.isShowLoading;return x.createElement(x.Fragment,null,x.createElement(pe,null,x.createElement("li",null,x.createElement("p",null,"File"),x.createElement("ul",null,x.createElement("li",null,x.createElement("button",{onClick:function(){e.setState({isShowLoading:!0})}},"Save")))),x.createElement("li",null,x.createElement("p",null,"Help"),x.createElement("ul",null,x.createElement("li",null,x.createElement("a",{href:"https://github.com/piro0919/image-maker",target:"_blank"},"GitHub"))))),t?de.createPortal(x.createElement(re,{src:t}),this.rootEl):x.createElement(x.Fragment,null),a?de.createPortal(x.createElement(ce,null),this.rootEl):x.createElement(x.Fragment,null))}}]),n}(x.Component),fe=t(19),ge=t(140),be=t(44),ve=function(e){function n(e){var t;return Object(r.a)(this,n),(t=Object(i.a)(this,Object(l.a)(n).call(this,e))).id=void 0,t.id=be(),t.state={height:0,width:0},t}return Object(c.a)(n,e),Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=this.props.url,t=new Image;t.onload=function(){var a=t.naturalHeight,r=t.naturalWidth;e.setState({height:a,width:r},function(){var t=document.getElementById(e.id).getContext("2d"),o=new Image;o.src=n,o.onload=function(){t.drawImage(o,0,0,r,a)}})},t.src=n}},{key:"render",value:function(){var e=this.props.style,n=e.rotate,t=e.scale,a=Object(ge.a)(e,["rotate","scale"]),r=this.state,o=r.height,i=r.width;return x.createElement("canvas",{height:o,id:this.id,style:Object(fe.a)({transform:"rotate(".concat(n,"deg) scale(").concat(t,")")},a),width:i})}}]),n}(x.Component);function Ee(){var e=Object(a.a)(["\n  white-space: nowrap;\n"]);return Ee=function(){return e},e}var ye=k.b.div(Ee()),xe=function(e){var n=e.style,t=n.color,a=t.a,r=t.b,o=t.g,i=t.r,l=n.fontFamily.value,c=n.fontSize,u=n.fontWeight,s=n.lineHeight,d=n.opacity,m=n.rotate,p=e.value;return x.createElement(ye,{style:{fontFamily:l,fontWeight:u,opacity:d,color:"rgba(".concat(i,", ").concat(o,", ").concat(r,", ").concat(a,")"),fontSize:"".concat(c,"px"),transform:"rotate(".concat(m,"deg)")}},p.split(/\r\n|\r|\n/).map(function(e,n){return x.createElement("div",{key:n,style:{height:"".concat(s,"px"),lineHeight:"".concat(s,"px")}},e)}))},we=t(130),ke=t.n(we);function je(){var e=Object(a.a)(["\n  background-color: #bbb;\n  height: 100%;\n  overflow: scroll;\n  position: relative;\n  width: 100%;\n\n  .wrapper {\n    box-sizing: content-box;\n    left: 0;\n    padding: 50px;\n    position: absolute;\n    top: 0;\n    transform-origin: top left;\n\n    #capture {\n      height: inherit;\n      width: inherit;\n\n      .screen {\n        height: inherit;\n        position: relative;\n        width: inherit;\n\n        &::before {\n          background-image: url(","/images/grid.png);\n          background-repeat: repeat;\n          background-size: inherit;\n          content: '';\n          display: block;\n          height: 100%;\n          left: 0;\n          position: absolute;\n          top: 0;\n          width: 100%;\n        }\n\n        .draggable {\n          cursor: move;\n          position: absolute;\n          word-break: keep-all;\n        }\n      }\n    }\n  }\n"]);return je=function(){return e},e}var Oe=k.b.div(je(),"/image-maker"),Ce=function(e){var n=e.layers,t=e.preview,a=t.backgroundColor,r=a.a,o=a.b,i=a.g,l=a.r,c=t.gridSize,u=t.height,s=t.overflow,d=t.scale,m=t.width,p=n.map(function(e){var n=e.id,t=x.createElement(x.Fragment,null);return"value"in e?t=x.createElement(xe,e):"url"in e&&(t=x.createElement(ve,e)),x.createElement(ke.a,{className:"draggable",key:n,parentScale:d},t)});return x.createElement(Oe,{id:"preview"},x.createElement("div",{className:"wrapper",style:{height:"".concat(u,"px"),transform:"scale(".concat(d,")"),width:"".concat(m,"px")}},x.createElement("div",{id:"capture"},x.createElement("div",{className:"screen",style:{backgroundColor:"rgba(".concat(l,", ").concat(i,", ").concat(o,", ").concat(r,")"),backgroundSize:"".concat(c,"px"),overflow:s?"visible":"hidden"}},p))))},Ne=t(131);function Se(){var e=Object(a.a)(["\n  dt:not(:first-child) {\n    margin-top: 10px;\n  }\n\n  dd {\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 5px;\n\n    .select {\n      width: 220px;\n    }\n\n    .input {\n      width: 60px;\n    }\n\n    .picker .chrome-picker {\n      background-color: #fff !important;\n      border: 1px #ddd solid !important;\n      border-radius: 0 !important;\n      box-shadow: none !important;\n      font-family: inherit !important;\n\n      > div {\n        border-radius: 0 !important;\n      }\n    }\n  }\n"]);return Se=function(){return e},e}var Le=k.b.ul(Se()),Fe=function(e){var n=e.color,t=e.fontFamily,a=e.fonts,r=e.fontSize,o=e.fontWeight,i=e.lineHeight,l=e.onChange,c=e.onChangeColor,u=e.onChangeFontFamily,s=e.opacity,d=e.rotate;return x.createElement(Le,null,x.createElement("dt",null,"color"),x.createElement("dd",null,x.createElement("div",{className:"picker"},x.createElement(G.ChromePicker,{color:n,onChange:c}))),x.createElement("dt",null,"font-family"),x.createElement("dd",null,x.createElement(Ne.a,{className:"select",onChange:u,options:a.map(function(e){var n=e.fontFamily;return{label:e.name,value:n}}),value:t})),x.createElement("dt",null,"font-size"),x.createElement("dd",null,x.createElement(H,{className:"input",min:0,name:"fontSize",onChange:l,type:"number",value:r}),"px"),x.createElement("dt",null,"font-weight"),x.createElement("dd",null,x.createElement(H,{className:"input",max:900,min:100,name:"fontWeight",onChange:l,step:100,type:"number",value:o})),x.createElement("dt",null,"line-height"),x.createElement("dd",null,x.createElement(H,{className:"input",min:0,name:"lineHeight",onChange:l,type:"number",value:i}),"px"),x.createElement("dt",null,"opacity"),x.createElement("dd",null,x.createElement(H,{className:"input",max:1,min:0,name:"opacity",onChange:l,step:.01,type:"number",value:s})),x.createElement("dt",null,"rotate"),x.createElement("dd",null,x.createElement(H,{className:"input",name:"rotate",onChange:l,step:.1,type:"number",value:d}),"deg"))},ze=t(139);function Ae(){var e=Object(a.a)(["\n  background-color: rgba(255, 255, 255, 0.75);\n  height: 100%;\n  left: 0;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 9999;\n\n  .wrapper {\n    align-items: center;\n    cursor: pointer;\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    justify-content: center;\n    width: 100%;\n\n    img {\n      height: calc(231px / 3);\n      opacity: 0.75;\n      width: calc(289px / 3);\n    }\n\n    p {\n      margin-top: 15px;\n    }\n  }\n\n  .close-button {\n    height: 50px;\n    position: fixed;\n    right: 10px;\n    top: 10px;\n    width: 50px;\n\n    &::before,\n    &::after {\n      background-color: #000;\n      display: block;\n      content: '';\n      left: 50%;\n      position: absolute;\n      top: 50%;\n      transform: translate(-50%, -50%) rotate(45deg);\n    }\n\n    &::before {\n      height: 1px;\n      width: 100%;\n    }\n\n    &::after {\n      height: 100%;\n      width: 1px;\n    }\n  }\n"]);return Ae=function(){return e},e}var De=k.b.div(Ae()),Re=function(e){function n(){return Object(r.a)(this,n),Object(i.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(c.a)(n,e),Object(o.a)(n,[{key:"componentDidMount",value:function(){ne("#root > div:not(.portal)").css("filter","blur(2.5px)")}},{key:"componentWillUnmount",value:function(){ne("#root > div:not(.portal)").css("filter","blur(0)")}},{key:"render",value:function(){var e=this.props,n=e.onClickCloseButton,t=e.onDrop;return x.createElement(De,{className:"portal"},x.createElement(ze.a,{accept:"image/*",onDrop:t},function(e){var n=e.getRootProps,t=e.getInputProps,a=e.isDragActive;return x.createElement("div",Object.assign({},n(),{className:"wrapper"}),x.createElement("input",t()),x.createElement("img",{src:"".concat("/image-maker","/images/dd.png")}),x.createElement("p",null,a?"Drop files here...":"Try dropping some image files here, or click to select files to upload."))}),x.createElement("button",{className:"close-button",onClick:n}))}}]),n}(x.Component);function Pe(){var e=Object(a.a)(["\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.75);\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 9999;\n\n  .wrapper {\n    height: 360px;\n    position: relative;\n    width: 640px;\n\n    img {\n      height: 100%;\n      width: 100%;\n    }\n\n    p {\n      bottom: 80px;\n      color: #ef64a0;\n      font-size: 1.2em;\n      position: absolute;\n      right: 30px;\n    }\n  }\n"]);return Pe=function(){return e},e}var Ie=k.b.div(Pe()),We=function(e){function n(){return Object(r.a)(this,n),Object(i.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(c.a)(n,e),Object(o.a)(n,[{key:"componentDidMount",value:function(){ne("#root > div:not(.portal)").css("filter","blur(2.5px)")}},{key:"componentWillUnmount",value:function(){ne("#root > div:not(.portal)").css("filter","blur(0)")}},{key:"render",value:function(){var e=this.props.loading;return x.createElement(Ie,{className:"portal"},x.createElement("div",{className:"wrapper"},x.createElement("img",{src:"".concat("/image-maker","/images/top.png")}),x.createElement("p",null,"loading... ",e,"%")))}}]),n}(x.Component),Te=t(60),Ye=t(136);function Be(){var e=Object(a.a)(["\n  background-color: #fbfbfb;\n  display: grid;\n  height: 100%;\n  grid-template-columns: 275px 1fr 200px;\n  grid-template-rows: 25px 1fr;\n\n  .header {\n    border-bottom: 1px #ddd inset;\n    grid-column: 1 / 4;\n  }\n\n  .detail {\n    overflow-y: scroll;\n    padding: 5px 10px;\n  }\n\n  .preview {\n    box-shadow: 1px 0px #ddd inset;\n    display: grid;\n    grid-gap: 5px;\n    grid-template-rows: 1fr 20px;\n    padding: 5px;\n  }\n\n  .side-layers {\n    box-shadow: 1px 0px #ddd inset;\n    display: flex;\n    flex-direction: column;\n\n    .layers {\n      flex-basis: 0;\n      flex-grow: 1;\n      overflow-y: scroll;\n      padding: 5px;\n    }\n  }\n"]);return Be=function(){return e},e}var He=k.b.div(Be()),Ue=function(e){function n(e){var t;return Object(r.a)(this,n),(t=Object(i.a)(this,Object(l.a)(n).call(this,e))).rootEl=void 0,t.rootEl=document.getElementById("root"),t.state={isShowDropzone:!1,isShowLogo:!0,loading:0},t}return Object(c.a)(n,e),Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=this.props.setFonts,t=new XMLHttpRequest;t.open("GET","".concat("/image-maker","/jsons/fonts.json"),!0),t.responseType="blob",t.onload=function(t){var a=t.target.response,r=new FileReader;r.onload=function(t){var a=t.target.result,r=JSON.parse(a),o=document.createElement("style"),i=0;n(r),o.appendChild(document.createTextNode(r.map(function(e){var n=e.fontFamily;return"@font-face {font-family: '".concat(n,"';src: url('").concat("/image-maker","/fonts/").concat(n,".woff2') format('woff2'),url('").concat("/image-maker","/fonts/").concat(n,".woff') format('woff'),url('").concat("/image-maker","/fonts/").concat(n,".ttf') format('truetype');}")}).join(""))),document.head.appendChild(o),Ye.load({active:function(){setTimeout(function(){e.setState({isShowLogo:!1,loading:100},function(){})},1e3)},classes:!1,custom:{families:r.map(function(e){return e.fontFamily})},fontactive:function(n,t){i+=1,e.setState({loading:Math.floor(i/r.length*100)},function(){})},fontinactive:function(n,t){i+=1,e.setState({loading:Math.floor(i/r.length*100)},function(){})}})},r.readAsText(a)},t.send()}},{key:"componentDidUpdate",value:function(e){var n=e.layers,t=this.props.layers;this.state.isShowDropzone&&n.length!==t.length&&this.setState({isShowDropzone:!1})}},{key:"render",value:function(){var e=this,n=this.props,t=n.addImageLayers,a=n.addTextLayer,r=n.changeColor,o=n.changeFontFamily,i=n.changePreviewBackgroundColor,l=n.changePreviewOverflow,c=n.changePreviewValue,u=n.changeStyle,s=n.changeValue,d=n.downLayer,m=n.fonts,p=n.index,h=n.layers,f=n.preview,g=n.removeLayer,b=n.selectLayer,v=n.upLayer,E=this.state,y=E.isShowDropzone,w=E.isShowLogo,k=E.loading,j=x.createElement(x.Fragment,null);if(void 0!==p){var O=h[p];if("value"in O){var N=O.style;j=x.createElement(Fe,Object.assign({},N,{fonts:m,onChange:u,onChangeColor:r,onChangeFontFamily:o}))}else if("url"in O){var S=O.style;j=x.createElement(_,Object.assign({},S,{onChange:u}))}}return x.createElement(He,null,x.createElement("header",{className:"header"},x.createElement(he,Object.assign({},f,{changePreviewOverflow:l}))),x.createElement("aside",{className:"detail"},j),x.createElement("div",{className:"preview"},x.createElement(Ce,{layers:h,preview:f}),x.createElement(X,Object.assign({},f,{onChange:c,onChangeBackgroundColor:i}))),x.createElement("aside",{className:"side-layers"},x.createElement(ee,null,[x.createElement(A,{key:"add",onClick:a}),x.createElement(P,{disabled:void 0===p,key:"delete",onClick:g}),x.createElement(T,{key:"image",onClick:function(){e.setState({isShowDropzone:!0})}}),x.createElement(C,{disabled:void 0===p||p===h.length-1,key:"up",onClick:v}),x.createElement(L,{disabled:!p,key:"down",onClick:d})]),x.createElement("div",{className:"layers"},x.createElement($,{index:p,layers:h,onChange:s,onClick:b,onFocus:b}))),y?de.createPortal(x.createElement(Re,{onClickCloseButton:function(){e.setState({isShowDropzone:!1})},onDrop:t}),this.rootEl):x.createElement(x.Fragment,null),w?de.createPortal(x.createElement(We,{loading:k}),this.rootEl):x.createElement(x.Fragment,null))}}]),n}(x.Component),Me=Object(Te.b)(function(e){var n=e.fonts.fonts,t=e.layer;return{fonts:n,index:t.index,layers:t.layers,preview:e.preview}},function(e){return{addImageLayers:function(n){n.forEach(function(n){e(m({url:URL.createObjectURL(n)}))})},addTextLayer:function(){return e(p())},changeColor:function(n){var t=n.rgb;return e(h({value:t,name:"color"}))},changeFontFamily:function(n){return e(h({value:n,name:"fontFamily"}))},changePreviewBackgroundColor:function(n){var t=n.rgb;return e(y({value:t,name:"backgroundColor"}))},changePreviewOverflow:function(n){return e(y({value:n,name:"overflow"}))},changePreviewValue:function(n){var t=n.currentTarget,a=t.checked,r=t.name,o=t.type,i=t.value;return e(y({name:r,value:"checkbox"===o?a:i}))},changeStyle:function(n){var t=n.currentTarget,a=t.name,r=t.value;return e(h({name:a,value:r}))},changeValue:function(n){var t=n.target.value;return e(f({value:t}))},downLayer:function(){return e(g())},removeLayer:function(){return e(b())},selectLayer:function(n){var t=n.currentTarget.dataset;return e(v({index:parseInt(t.index,10)}))},setFonts:function(n){return e(d({fonts:n}))},upLayer:function(){return e(E())}}})(Ue),_e=t(350),Ge=t(351),Ve=t(352),Je=t(36);t(345),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Xe=t(37),qe=Object(Xe.reducerWithInitialState)({fonts:[]}).case(d,function(e,n){var t=n.fonts;return Object(fe.a)({},e,{fonts:t})}),Ke={index:void 0,layers:[]},$e=Object(Xe.reducerWithInitialState)(Ke).case(m,function(e,n){var t=n.url,a=e.layers.slice();return a.push({url:t,id:be(),style:{opacity:1,rotate:0,scale:1}}),Object(fe.a)({},e,{layers:a})}).case(p,function(e){var n=e.layers.slice();return n.push({id:be(),style:{color:{a:1,b:0,g:0,r:0},fontFamily:{label:"\u30d0\u30f3\u30d0\u30f3",value:"BANBAN-FREE"},fontSize:16,fontWeight:400,lineHeight:16,opacity:1,rotate:0},value:""}),Object(fe.a)({},e,{layers:n})}).case(h,function(e,n){var t=n.name,a=n.value,r=e.index,o=e.layers.slice();return o[r].style[t]="fontSize"===t||"fontWeight"===t||"lineHeight"===t?parseInt(a,10):"opacity"===t||"rotate"===t||"scale"===t?parseFloat(a):a,Object(fe.a)({},e,{layers:o})}).case(f,function(e,n){var t=n.value,a=e.index,r=e.layers.slice(),o=r[a];return"value"in o&&(o.value=t,r[a]=o),Object(fe.a)({},e,{layers:r})}).case(g,function(e){var n=e.index,t=e.layers.slice(),a=t[n];return t[n]=t[n-1],t[n-1]=a,Object(fe.a)({},e,{index:n-1,layers:t})}).case(b,function(e){var n=e.index,t=e.layers;if(void 0===n)return e;var a=t.slice();return a.splice(n,1),{layers:a,index:void 0}}).case(v,function(e,n){var t=n.index;return Object(fe.a)({},e,{index:t})}).case(E,function(e){var n=e.index,t=e.layers.slice(),a=t[n];return t[n]=t[n+1],t[n+1]=a,Object(fe.a)({},e,{index:n+1,layers:t})}),Qe=t(58),Ze=Object(Xe.reducerWithInitialState)({backgroundColor:{a:1,b:255,g:255,r:255},gridSize:0,height:300,overflow:!0,scale:1,width:400}).case(y,function(e,n){var t,a=n.name,r=n.value;return t="gridSize"===a||"height"===a||"width"===a?parseInt(r,10):"scale"===a?parseFloat(r):r,Object(fe.a)({},e,Object(Qe.a)({},a,t))}),en=function(){return Object(Je.b)({fonts:qe,layer:$e,preview:Ze})};function nn(){var e=Object(a.a)(['\n  html {\n    font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", YuGothic, "\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 ProN W3", Hiragino Kaku Gothic ProN, Arial, "\u30e1\u30a4\u30ea\u30aa", Meiryo, sans-serif;\n    font-size: 62.5%;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-font-smoothing: antialiased;\n    font-style: normal;\n    font-weight: 400;\n    height: 100%;\n    line-height: 1.2;\n    overflow: hidden !important;\n    -webkit-overflow-scrolling: touch;\n    width: 100%;\n  \n    body {\n      font-size: 1.4rem;\n      height: 100%;\n      width: 100%;\n    \n      #root {\n        height: 100%;\n        width: 100%;\n\n        * {\n          appearance: none;\n          \n          &:focus {\n            outline: none;\n          }\n        }\n  \n        a {\n          line-height: 0;\n        }\n\n        ul {\n          list-style: none;\n        }\n      }\n    }\n  }\n']);return nn=function(){return e},e}var tn=Object(Je.c)(en()),an=Object(k.a)(nn());de.render(x.createElement(Te.a,{store:tn},x.createElement(_e.a,{basename:"/image-maker"},x.createElement(Ge.a,null,x.createElement(Ve.a,{component:Me,exact:!0,path:"/"}))),x.createElement(an,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[141,2,1]]]);
//# sourceMappingURL=main.71da7bd6.chunk.js.map